

<table class="table sortable" id="celeryTaskTable">
  <tr>
    <th id="uuid" onclick="updateSort(this.id);">UUID</th>
    <th id="task" onclick="updateSort(this.id);">Task</th>
    <th id="received" onclick="updateSort(this.id);">Received</th>
    <th id="started" onclick="updateSort(this.id);">Started</th>
    <th id="state" onclick="updateSort(this.id);">Current state</th>
    <th>Terminate</th>
  </tr>
  {% for task in tasks %}
  <tr>
  <td>{{ task.uuid }}</td>
      <td>{{ task.name }}</td>
  <td>{{ task.received }}</td>
  <td>{{ task.started }}</td>
  <td>{{  task.state }}</td>
      <td>
        {% if task.state == 'STARTED' %}
          <a class="btn btn-danger" href="{% url 'celery_abort' task=task.uuid name=task.type %}" role="button">
            Terminate task
          </a>
        {% else %}
          <a class="btn btn-default" disabled="disabled">Terminate task</a>
        {% endif %}
      </td>


</tr>
{% endfor %}
</table>

<script>
  $(document).ready(function () {
      var taskTable = document.getElementById("celeryTaskTable");
      sorttable.makeSortable(taskTable);
      updateSort(sort_heading)
  });
</script>
